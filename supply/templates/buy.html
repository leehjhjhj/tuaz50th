{% extends 'base.html' %}
{% block content %}
{% load static %}
    
    <!-- Preloader -->
	<div class="spinner-wrapper">
        <div class="spinner">
            <div class="bounce1"></div>
            <div class="bounce2"></div>
            <div class="bounce3"></div>
        </div>
    </div>
    <!-- end of preloader -->

    <!-- Header -->
    <body id="header" class="ex-2-header">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>주문서 작성</h1>
                    <p>꼼꼼히 읽고 작성해주세요!</p> 
                    <!-- apply Form -->
                    <div class="form-container" style="max-width: 80rem;">
                        </form>
                            {%csrf_token%}
                            <br>
                            <div class="form-group">
                                1. 이름를 작성해주세요
                                <input class="form-control" type="text" placeholder="" aria-label=".form-control-lg example" name="">
                                <div class="help-block with-errors"></div>
                            </div>
                            <br>
                            <div class="form-group">
                                2. 핸드폰 번호를 작성해주세요 ('-' 없이 8자리)
                                <input class="form-control" type="text" placeholder="010xxxxxxxx" aria-label=".form-control-lg example" name="">
                                <div class="help-block with-errors"></div>
                            </div>
                            <br>
                            <div class="form-group">
                                3. 이메일을 적어주세요
                                <div class="input-group mb-3">
                                    <input type="text" class="form-control" placeholder="example" aria-label="Username" name="">
                                    <span class="input-group-text">@</span>
                                    <input type="text" class="form-control" placeholder="example.com" aria-label="Server" name="">
                                  </div>
                                <div class="help-block with-errors"></div>
                            </div>
                            <br>
                            <div class="form-group">
                                4. 학번을 입력해주세요(example: 19)
                                <input class="form-control" type="text" placeholder="" aria-label=".form-control-lg example" name="" style="width:180px;" >
                                <div class="help-block with-errors"></div>
                            </div>
                            <br>
                            <div class="form-group">
                                5. 상품을 선택해주세요
                                <div id="product-container">
                                    <div class="product-container">
                                        <div class="quantity-container">
                                            <select style="width:180px;" name="category[]" class="form-control-select" id="product">
                                                <option value="">선택해주세요</option>
                                                <option value="product1">상품 1</option>
                                                <option value="product2">상품 2</option>
                                                <option value="product3">상품 3</option>
                                            </select>
                                            <div class="quantity-control">
                                                개수:
                                                <button type="button" class="quantity-btn" onclick="adjustQuantity(this, -1)">-</button>
                                                <input type="number" name="quantity[]" min="1" value="1" style="width: 60px; text-align: center;">
                                                <button type="button" class="quantity-btn" onclick="adjustQuantity(this, 1)">+</button>
                                            </div>
                                            <span class="remove-product" onclick="removeProduct(this)">-</span>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="add-btn" onclick="addProduct()">+</button>
                            </div>

                            <br>
                            <button type="submit" name="draft" class="form-control-submit-button">주문하기</button>
                        </form>
                    </div> <!-- end of form container -->
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </body> <!-- end of ex-header -->
    <!-- end of header -->

    <script>
        function addProduct() {
            var container = document.getElementById('product-container');
            var newProduct = document.createElement('div');
            newProduct.className = 'product-container';

            var select = document.createElement('select');
            select.style.width = '180px';
            select.name = 'category[]';
            select.className = 'form-control-select';
            
            var option = document.createElement('option');
            option.value = '';
            option.textContent = '선택해주세요';
            select.appendChild(option);

            var option1 = document.createElement('option');
            option1.value = 'product1';
            option1.textContent = '상품 1';
            select.appendChild(option1);

            var option2 = document.createElement('option');
            option2.value = 'product2';
            option2.textContent = '상품 2';
            select.appendChild(option2);

            var option3 = document.createElement('option');
            option3.value = 'product3';
            option3.textContent = '상품 3';
            select.appendChild(option3);

            newProduct.appendChild(select);

            var quantityInput = document.createElement('input');
            quantityInput.type = 'number';
            quantityInput.name = 'quantity[]';
            quantityInput.min = '1';
            quantityInput.value = '1';
            quantityInput.style.width = '60px';
            newProduct.appendChild(quantityInput);

            var removeBtn = document.createElement('span');
            removeBtn.className = 'remove-product';
            removeBtn.textContent = '-';
            removeBtn.setAttribute('onclick', 'removeProduct(this)');
            newProduct.appendChild(removeBtn);

            container.appendChild(newProduct);
        }

        function removeProduct(element) {
            var container = document.getElementById('product-container');
            container.removeChild(element.parentNode);
        }
        function adjustQuantity(button, value) {
            var input = button.parentNode.querySelector('input[type="number"]');
            var currentQuantity = parseInt(input.value);
            var newQuantity = currentQuantity + value;

            if (newQuantity >= 1) {
                input.value = newQuantity;
            }
        }
    </script>

<style>
    body {
            background-image: url('{% static "images/ballon.jpg" %}');
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            background-attachment: fixed;
        }
        .form-control-submit-button {
            display: inline-block;
            width: 50%;
            height: 3.125rem;
            border: 1px solid #ff0000;
            border-radius: 1.5rem;
            background-color: #ff0000;
            color: #fff;
            font: 700 0.875rem/0 "Open Sans", sans-serif;
            cursor: pointer;
            transition: all 0.2s;
            margin-left: 25%;
        }

        .form-control-submit-button:hover {
            background-color: transparent;
            color: #ff0000;
        }
        .product-container {
            margin-bottom: 20px;
        }

        .remove-product {
            cursor: pointer;
            margin-left: 5px;
        }

        .quantity-container {
            display: flex;
            align-items: center;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            margin-left: 10px;
        }

        .quantity-btn {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 20px;
            height: 20px;
            border: none;
            background-color: #f5f5f5;
            font-size: 14px;
            cursor: pointer;
        }

        .add-btn {
            margin-left: 10px;
        }
</style>

<svg class="footer-frame" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" viewBox="0 0 1920 79">
        <defs>
          <linearGradient id="grad1" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#00B5E2;stop-opacity:1" />
            <stop offset="33.33%" style="stop-color:#00B5E2;stop-opacity:1" />
            <stop offset="33.33%" style="stop-color:#EF3340;stop-opacity:1" />
            <stop offset="66.66%" style="stop-color:#EF3340;stop-opacity:1" />
            <stop offset="66.66%" style="stop-color:#509E2F;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#509E2F;stop-opacity:1" />
          </linearGradient>
        </defs>
        <title>footer-frame</title>
        <path class="cls-2" d="M0,72.427C143,12.138,255.5,4.577,328.644,7.943c147.721,6.8,183.881,60.242,320.83,53.737,143-6.793,167.826-68.128,293-60.9,109.095,6.3,115.68,54.364,225.251,57.319,113.58,3.064,138.8-47.711,251.189-41.8,104.012,5.474,109.713,50.4,197.369,46.572,89.549-3.91,124.375-52.563,227.622-50.155A338.646,338.646,0,0,1,1920,23.467V79.75H0V72.427Z" transform="translate(0 -0.188)" fill="url(#grad1)" />
      </svg>
{% endblock %}